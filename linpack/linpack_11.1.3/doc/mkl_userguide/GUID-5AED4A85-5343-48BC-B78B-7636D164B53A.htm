<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns:MSHelp="http://www.microsoft.com/MSHelp/" lang="en-us" xml:lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Using the Custom Shared Object Builder">
<meta name="DC.Relation" scheme="URI" content="GUID-48717119-DEB8-4010-B3CC-EC5A0CD48269.htm">
<meta name="DC.Relation" scheme="URI" content="GUID-7091CAB6-0506-443A-ABA0-CCE2245A1A1C.htm#GUID-7091CAB6-0506-443A-ABA0-CCE2245A1A1C">
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-5AED4A85-5343-48BC-B78B-7636D164B53A">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="intel_css_styles.css">
<title>Using the Custom Dynamically Linked Library/Shared Object Builder</title>
<xml>
<MSHelp:Attr Name="DocSet" Value="Intel"></MSHelp:Attr>
<MSHelp:Attr Name="Locale" Value="kbEnglish"></MSHelp:Attr>
<MSHelp:Attr Name="TopicType" Value="kbReference"></MSHelp:Attr>
</xml>
</head>
<body id="GUID-5AED4A85-5343-48BC-B78B-7636D164B53A">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; Math Kernel Library 11.1 Update 3 User's Guide</em></p>


 
  <h1 class="topictitle1">Using the Custom 
    Shared Object Builder</h1>
 
   
   
  <div id="GUID-FBA6BAE3-68A9-4652-8327-B647DF35E739"> 
    <p>To build a custom 
      shared object, use the following command: 
    </p>
 
    <p id="GUID-5FE67A77-FD04-40D2-A0CE-9A51A2D6A07F"> 
      <samp class="codeph"> 
        make target [<var>&lt;options&gt;</var>]</samp> 
    </p>
 
    <p>The following table lists possible values of 
      <samp class="codeph">target</samp> and explains what the command does for each value: 
    </p>
 
    
<div class="tablenoborder"><table cellpadding="4" summary="" id="GUID-A6ABDF42-02CF-44E5-88DF-396EB00EF2C8" width="100%" frame="hsides" border="1" rules="all"> 
         
         
        <thead align="left"> 
          <tr> 
            <th class="cellrowborder" valign="top" width="20%" id="d25172e71"> 
              <p>Value 
              </p>
 
            </th>
 
            <th class="row-nocellborder" valign="top" width="80%" id="d25172e77"> 
              <p>Comment 
              </p>
 
            </th>
 
          </tr>
 
        </thead>
 
        <tbody> 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e71 "> 
              <samp class="codeph">libia32</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e77 "> 
              <p>The builder uses static Intel MKL interface, threading, and core libraries to build a custom 
                shared object for the IA-32 architecture. 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e71 "> 
              <samp class="codeph">libintel64</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e77 "> 
              <p>The builder uses static Intel MKL interface, threading, and core libraries to build a custom 
                shared object for the Intel&reg; 64 architecture. 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e71 "> 
              <samp class="codeph">soia32</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e77 "> 
              <p>The builder uses the single dynamic library 
                <span class="filepath">libmkl_rt.so</span> to build a custom shared object for the IA-32 architecture. 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e71 "> 
              <samp class="codeph">sointel64</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e77 "> 
              <p>The builder uses the single dynamic library 
                <span class="filepath">libmkl_rt.so</span> to build a custom shared object for the Intel&reg; 64 architecture. 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e71 "> 
              <samp class="codeph">help</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e77 "> 
              <p>The command prints Help on the custom 
                shared object builder 
              </p>
 
            </td>
 
          </tr>
 
          </tbody>
 
      </table>
</div>
 
    <p>The 
      <samp class="codeph"><var>&lt;options&gt;</var></samp> placeholder stands for the list of parameters that define macros to be used by the makefile. The following table describes these parameters: 
    </p>
 
    
<div class="tablenoborder"><table cellpadding="4" summary="" id="GUID-103F7475-1657-47BA-9481-DAAB9578EE61" width="100%" frame="hsides" border="1" rules="all"> 
         
         
        <thead align="left"> 
          <tr> 
            <th class="cellrowborder" valign="top" width="20%" id="d25172e200"> 
              <p>Parameter [Values] 
              </p>
 
            </th>
 
            <th class="row-nocellborder" valign="top" width="80%" id="d25172e206"> 
              <p>Description 
              </p>
 
            </th>
 
          </tr>
 
        </thead>
 
        <tbody> 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">interface 
                = {lp64|ilp64}</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Defines 
                whether to use LP64 or ILP64 programming interfacefor the Intel 64architecture.The default value is 
                  <samp class="codeph">lp64</samp>. 
                </p>
 
              </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">threading = {parallel|sequential}</samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Defines whether to use the Intel MKL in the threaded or sequential mode. The default value is 
                <samp class="codeph">parallel</samp>. 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">export = 
                <var>&lt;file&nbsp;name&gt;</var></samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Specifies the full name of the file that contains the list of entry-point functions to be included in the 
                shared object. The default name is 
                <span class="filepath">user_example_list</span> (no extension). 
              </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">name = 
                <var>&lt;</var><var>so</var><var> name&gt;</var></samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Specifies the name of the 
                 library to be created. By default, the names of the created library 
                is 
                <span class="filepath">mkl_custom.</span><span class="filepath">so</span>.</p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">xerbla = 
                <var>&lt;error&nbsp;handler&gt;</var></samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Specifies the name of the object file 
                <span class="filepath"><var>&lt;user_xerbla&gt;</var></span><span class="filepath">.o</span> that contains the user's error handler. The makefile adds this error handler to the library for use instead of the default Intel MKL error handler 
                <span class="parmname">xerbla</span>. If you omit this parameter, the native Intel MKL 
                <span class="parmname">xerbla</span> is used. See the description of the 
                <span class="parmname">xerbla</span> function in the Intel MKL Reference Manual on how to develop your own error handler. 
                </p>
 
            </td>
 
          </tr>
 
          <tr> 
            <td class="cellrowborder" valign="top" width="20%" headers="d25172e200 "> 
              <samp class="codeph">MKLROOT = 
                <var>&lt;mkl&nbsp;directory&gt;</var></samp> 
            </td>
 
            <td class="row-nocellborder" valign="top" width="80%" headers="d25172e206 "> 
              <p>Specifies the location of Intel MKL libraries used to build the custom 
                shared object. By default, the builder uses the Intel MKL installation directory. 
              </p>
 
            </td>
 
          </tr>
 
          </tbody>
 
      </table>
</div>
 
    <p>All the above parameters are optional. 
    </p>
 
    <p>In the simplest case, the command line is 
      <samp class="codeph">make ia32,</samp> and the missing options have default values. This command creates the&nbsp; 
      <span class="filepath">mkl_custom.</span><span class="filepath">so</span> library for processors using the IA-32 architecture. The command takes the list of functions from the 
      <samp class="codeph">user_list</samp> file and uses the native Intel MKL error handler 
      <span><span class="parmname">xerbla</span></span>. 
    </p>
 
    <p>An example of a more complex case follows: 
    </p>
 
    <p> 
      <samp class="codeph"> 
        make ia32 export=my_func_list.txt name=mkl_small xerbla=my_xerbla.o 
      </samp> 
    </p>
 
    <p id="GUID-2C98B7FB-ECA7-49FB-9407-44635965DE7F"> 
      <samp class="codeph" id="GUID-322FFCE3-4411-4974-A501-D7603D4B26FF"> 
        </samp> 
    </p>
 
    <p>In this case, the command creates the 
      <span class="filepath">mkl_small.</span><span class="filepath">so</span> library for processors using the IA-32 architecture. The command takes the list of functions from 
      <span class="filepath">my_func_list.txt</span> file and uses the user's error handler 
      <span class="filepath">my_xerbla.o</span>. 
    </p>
 
    <p>The process is similar for processors using the Intel&reg; 64 
       architecture. 
    </p>
 
    <p id="P_CF_12857569597140"><a name="P_CF_12857569597140"><!-- --></a> 
	 
<div class="tablenoborder"><a name="d20e18"><!-- --></a><table cellpadding="4" summary="" id="d20e18" frame="border" border="1" cellspacing="0" rules="all"> 
		  <thead align="left"> 
			 <tr> 
				<th class="cellrowborder" align="left" valign="top" width="100%" id="d25172e448"> 
				  <p id="d20e29"><a name="d20e29"><!-- --></a>Optimization Notice 
				  </p>
 
				</th>
 
			 </tr>
</thead>
 
		  <tbody> 
			 <tr> 
				<td class="bgcolor(#f5f5f5)" bgcolor="#f5f5f5" valign="top" width="100%" headers="d25172e448 "> 
				  <p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice. 
				  </p>
 
				  <p> Notice revision #20110804 
				  </p>
  

				  </td>
 
			 </tr>
 
		  </tbody>
 
		</table>
</div>
 
	 </p>
 
  </div>
 
  
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong>&nbsp;<a href="GUID-48717119-DEB8-4010-B3CC-EC5A0CD48269.htm">Building Custom Shared Objects</a></div>
</div>
<div class="See Also"><h2>See Also</h2>
<div class="linklist">
<div><a href="GUID-7091CAB6-0506-443A-ABA0-CCE2245A1A1C.htm#GUID-7091CAB6-0506-443A-ABA0-CCE2245A1A1C">Using the Single Dynamic Library 
        </a>  
        </div></div><br clear="all">
<div class="docfeedback">
<div><a href="http://www.intel.com/software/products/softwaredocs_feedback" target="_blank">Submit feedback on this help topic 
		  </a></div></div></div> 

</body>
</html>
